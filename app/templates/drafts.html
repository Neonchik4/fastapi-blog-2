{% extends "base.html" %}
{% block title %}Черновики{% endblock %}
{% block head_extra %}
<link rel="stylesheet" href="/static/css/drafts.css">
{% endblock %}

{% block content %}
<div class="content-container">
    <div class="page-header">
        <h1>Мои черновики</h1>
    </div>

    {% if article.blogs %}
        <ul class="articles-list">
            {% for blog in article.blogs %}
            <li class="article-card">
                <h2>
                    <a href="/blogs/{{ blog.id }}">{{ blog.title }}</a>
                    <span class="draft-badge">Черновик</span>
                </h2>
                <div class="article-meta">
                    {{ blog.created_at.strftime('%d %B %Y') }}
                </div>
                <p class="article-excerpt">{{ blog.short_description }}</p>
                {% if blog.tags %}
                <div class="article-tags">
                    {% for tag in blog.tags %}
                    <span class="tag">{{ tag.name }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <div class="no-results">
            <p>У вас пока нет черновиков.</p>
        </div>
    {% endif %}

    {% if article.total_page > 0 %}
    <div class="pagination">
        {% if article.page > 1 %}
        <a href="?page={{ article.page - 1 }}" class="pagination-link">←</a>
        {% endif %}
        {% for p in range(1, article.total_page + 1) %}
        <a href="?page={{ p }}" class="pagination-link {% if p == article.page %}active{% endif %}">{{ p }}</a>
        {% endfor %}
        {% if article.page < article.total_page %}
        <a href="?page={{ article.page + 1 }}" class="pagination-link">→</a>
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}

